# Итоговый проект за "Фреймворки Flask и FastAPI"

## Задание

Необходимо создать базу данных для интернет-магазина. База данных должна состоять из трёх таблиц: товары, заказы и
пользователи.

* Таблица «Товары» должна содержать информацию о доступных товарах, их описаниях и ценах.
* Таблица «Заказы» должна содержать информацию о заказах, сделанных пользователями.
* Таблица «Пользователи» должна содержать информацию о зарегистрированных пользователях магазина.
    * Таблица пользователей должна содержать следующие поля: id (PRIMARY KEY), имя, фамилия, адрес электронной почты и
      пароль.
    * Таблица заказов должна содержать следующие поля: id (PRIMARY KEY), id пользователя (FOREIGN KEY), id товара (
      FOREIGN KEY), дата заказа и статус заказа.
    * Таблица товаров должна содержать следующие поля: id (PRIMARY KEY), название, описание и цена.

Создайте модели pydantic для получения новых данных и возврата существующих в БД для каждой из трёх таблиц.
Реализуйте CRUD операции для каждой из таблиц через создание маршрутов, REST API.

# Стек

* Postgres - sql база данных
* FastAPI - фреймворк для написания асинхронного api
* SQLAlchemy - orm
* Asyncpg - асинхронны коннектор к бд postgres
* alembic - миграции базы данных
* Pydantic - валидация данных
* Docker - контейнеризация проекта

# Запуск проекта

1. Создать в корне файл .env .env.db

Файл .env

```
DB__NAME=gb
DB__PASSWORD=SuperPassword
DB__PORT=5432
DB__USER=SuperUser
DB__HOST=database
```

Файл .env.db

```
POSTGRES_PASSWORD=SuperPassword
POSTGRES_USER=SuperUser
POSTGRES_DB=gb
```

Для запуска выполнить команды ``docker-compose up -d``
Для остановки контейнера выполнить команду ``docker-compose down``
Для удаления контейнера выполнить команду ``docker-compose down -v``


Документация к API доступна на ``http://localhost:8080/docs``